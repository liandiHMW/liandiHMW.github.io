(function(e){function t(t){for(var s,o,i=t[0],n=t[1],u=t[2],m=0,p=[];m<i.length;m++)o=i[m],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);c&&c(t);while(p.length)p.shift()();return l.push.apply(l,u||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],s=!0,i=1;i<a.length;i++){var n=a[i];0!==r[n]&&(s=!1)}s&&(l.splice(t--,1),e=o(o.s=a[0]))}return e}var s={},r={app:0},l=[];function o(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=s,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(a,s,function(t){return e[t]}.bind(null,s));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],n=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var c=n;l.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0fa5":function(e,t,a){},2955:function(e,t,a){"use strict";var s=a("7d55"),r=a.n(s);r.a},"3c8d":function(e,t,a){"use strict";var s=a("0fa5"),r=a.n(s);r.a},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},l=[],o=(a("5c0b"),a("2877")),i={},n=Object(o["a"])(i,r,l,!1,null,null,null),u=n.exports,c=a("8c4f"),m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home"},[s("img",{attrs:{alt:"Vue logo",src:a("cf05")}}),s("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},p=[],d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("h1",[e._v(e._s(e.msg))]),e._m(0),a("h3",[e._v("Installed CLI Plugins")]),e._m(1),a("h3",[e._v("Essential Links")]),e._m(2),a("h3",[e._v("Ecosystem")]),e._m(3)])},h=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v(" For a guide and recipes on how to configure / customize this project,"),a("br"),e._v(" check out the "),a("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-cli documentation")]),e._v(". ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-router",target:"_blank",rel:"noopener"}},[e._v("router")])]),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-vuex",target:"_blank",rel:"noopener"}},[e._v("vuex")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Core Docs")])]),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Forum")])]),a("li",[a("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Community Chat")])]),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[e._v("Twitter")])]),a("li",[a("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("News")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-router")])]),a("li",[a("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vuex")])]),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[e._v("vue-devtools")])]),a("li",[a("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-loader")])]),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[e._v("awesome-vue")])])])}],g={name:"HelloWorld",props:{msg:String}},b=g,f=(a("2955"),Object(o["a"])(b,d,h,!1,null,"8dc4f3b4",null)),v=f.exports,_={name:"Home",components:{HelloWorld:v}},w=_,y=Object(o["a"])(w,m,p,!1,null,null,null),F=(y.exports,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("div",{staticClass:"card"},[e._m(0),a("el-form",{staticClass:"demo-ruleForm",attrs:{"status-icon":"","label-width":"100px"}},[a("div",{staticClass:"demo-input-suffix"},[a("el-input",{attrs:{"prefix-icon":"el-icon-user-solid"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),a("div",{staticClass:"demo-input-suffix"},[a("el-input",{attrs:{type:"password","prefix-icon":"el-icon-lock"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:e.getToken}},[e._v("登录")]),a("el-button",{attrs:{type:"info"},on:{click:e.reset}},[e._v("重置")])],1)],1)],1)])}),$=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"img"},[s("img",{attrs:{src:a("cf05"),alt:""}})])}],k={name:"demo",props:{},components:{},data(){return{username:"admin",password:"123456"}},computed:{},watch:{},methods:{async getToken(){let{data:e}=await this.$http.post("login",{username:this.username,password:this.password});200==e.meta.status?(sessionStorage.setItem("token",""+e.data.token),this.$router.push("/store"),this.$message({message:"登陆成功",type:"success"})):(this.$message.error("登录失败！"),this.reset())},reset(){this.username="admin",this.password="123456"}}},x=k,C=(a("e84b"),Object(o["a"])(x,F,$,!1,null,"dff2881a",null)),U=C.exports,z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"store"},[s("el-container",[s("el-header",[s("div",{staticClass:"left"},[s("img",{attrs:{src:a("cf05"),alt:""}}),s("p",[e._v("电商后台管理系统")])]),s("el-button",{attrs:{type:"info"},on:{click:e.out}},[e._v("退出")])],1),s("el-container",[s("el-aside",{attrs:{width:""}},[s("p",{on:{click:function(t){e.isCollapse=!e.isCollapse}}},[e._v("|||")]),s("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"unique-opened":"",router:"","text-color":"#fff","background-color":" #333744","default-active":e.xb,collapse:e.isCollapse},on:{open:e.handleOpen,close:e.handleClose}},e._l(e.list,(function(t,a){return s("el-submenu",{key:a,attrs:{index:t.id+""}},[s("template",{slot:"title"},[s("i",{class:e.icon[a]}),s("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.authName))])]),e._l(t.children,(function(t,a){return s("el-menu-item-group",{key:a},[s("el-menu-item",{attrs:{index:"/store/"+t.path},on:{click:function(a){return e.jump("/store/"+t.path)}}},[s("i",{staticClass:"el-icon-menu"}),e._v(e._s(t.authName))])],1)}))],2)})),1)],1),s("el-main",[s("router-view")],1)],1)],1)],1)},S=[],j={name:"demo",props:{},components:{},data(){return{isCollapse:!1,icon:["el-icon-user-solid","el-icon-s-help","el-icon-s-goods","el-icon-s-claim","el-icon-s-marketing"],list:[],xb:sessionStorage.getItem("index")||""}},computed:{},watch:{$route(e,t){"/store/sy"==e.path?this.xb="":this.xb=e.fullPath+"",sessionStorage.setItem("index",e.fullPath+"")}},methods:{out(){this.$confirm("你确定退出嘛?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{sessionStorage.removeItem("token"),this.$router.push("/login"),this.$message({type:"success",message:"退出成功!"})}).catch(()=>{this.$message({type:"info",message:"已取消退出"})})},handleOpen(e,t){console.log(e,t)},handleClose(e,t){console.log(e,t)},async getList(){let{data:e}=await this.$http.get("menus");this.list=e.data,console.log(this.list)},jump(e){console.log(e),sessionStorage.setItem("index",e+""),this.xb=e}},mounted(){this.getList()}},L=j,V=(a("3c8d"),Object(o["a"])(L,z,S,!1,null,"25468dea",null)),O=V.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[e._v(" 这里是首页 ")])},q=[],T={name:"demo",props:{},components:{},data(){return{}},computed:{},watch:{},methods:{}},I=T,P=Object(o["a"])(I,E,q,!1,null,"aca281de",null),B=P.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"users"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("用户管理")]),a("el-breadcrumb-item",[e._v("用户列表")])],1),a("el-card",{staticClass:"box-card"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.getUser()}},slot:"append"})],1)],1),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加用户")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.users,stripe:""}},[a("el-table-column",{attrs:{type:"index",label:"#",width:""}}),a("el-table-column",{attrs:{prop:"username",label:"姓名",width:"180"}}),a("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"180"}}),a("el-table-column",{attrs:{prop:"mobile",label:"电话",width:"180"}}),a("el-table-column",{attrs:{prop:"role_name",label:"角色",width:"180"}}),a("el-table-column",{attrs:{prop:"mg_state",label:"状态",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-color":"#409EFF","inactive-color":"#DCDFE6"},on:{change:function(a){return e.change(t.row.id,t.row.mg_state)}},model:{value:t.row.mg_state,callback:function(a){e.$set(t.row,"mg_state",a)},expression:"scope.row.mg_state"}})]}}])}),a("el-table-column",{attrs:{label:"操作",prop:"id",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.update(t.row)}}}),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.delUser(t.row.id)}}}),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"分配权限",placement:"top-start"}},[a("el-button",{attrs:{size:"mini",type:"warning",icon:"el-icon-setting"},on:{click:function(a){return e.role(t.row.id)}}})],1)]}}])})],1),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{height:"50","current-page":e.pagenum,"page-sizes":[2,4,6,10],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),a("el-dialog",{attrs:{title:"添加用户",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),a("el-form-item",{attrs:{label:"电话",prop:"phone"}},[a("el-input",{model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"编辑用户",visible:e.dialogFormVisibleUpdate},on:{"update:visible":function(t){e.dialogFormVisibleUpdate=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleFormUpdate,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleFormUpdate.name,callback:function(t){e.$set(e.ruleFormUpdate,"name",t)},expression:"ruleFormUpdate.name"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{model:{value:e.ruleFormUpdate.email,callback:function(t){e.$set(e.ruleFormUpdate,"email",t)},expression:"ruleFormUpdate.email"}})],1),a("el-form-item",{attrs:{label:"手机",prop:"phone"}},[a("el-input",{model:{value:e.ruleFormUpdate.phone,callback:function(t){e.$set(e.ruleFormUpdate,"phone",t)},expression:"ruleFormUpdate.phone"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisibleUpdate=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updateForm("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},D=[],M={name:"demo",props:{},components:{},data(){let e=(e,t,a)=>""===t?a(new Error("手机号不能为空")):/^1[3456789]\d{9}$/.test(t)?a():a("手机号码有误，请重填");return{search:"",users:[],pagesize:2,pagenum:1,query:"",total:0,dialogFormVisible:!1,dialogFormVisibleUpdate:!1,formLabelWidth:"100px",ruleForm:{username:"",password:"",email:"",phone:""},ruleFormUpdate:{name:"",email:"",phone:"",id:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{required:!0,validator:e,trigger:"blur"}]}}},computed:{},watch:{},methods:{async getUser(e=1,t=2){let{data:a}=await this.$http.get(`users?query=${this.query}&pagenum=${e}&pagesize=${t}`);this.users=a.data.users,this.pagesize=t,this.pagenum=e,this.total=a.data.total,console.log(a.data)},async addUser(){let e=await this.$http.post("users",{username:this.ruleForm.username,password:this.ruleForm.password,email:this.ruleForm.email,mobile:this.ruleForm.phone});console.log(e),201==e.data.meta.status?(this.$message({message:"添加成功！啦啦啦！",type:"success"}),this.ruleForm={username:"",password:"",email:"",phone:""},this.dialogFormVisible=!1):this.$message({message:"添加失败",type:"warning"}),this.getUser(1,2)},submitForm(e){this.$refs[e].validate(e=>{if(!e)return console.log("error submit!!"),!1;this.addUser()})},updateForm(e){this.$refs[e].validate(e=>{if(!e)return console.log("error submit!!"),!1;this.updated()})},resetForm(e){this.dialogFormVisible=!1,this.$refs[e].resetFields()},update(e){this.dialogFormVisibleUpdate=!0,this.ruleFormUpdate.name=e.username,this.ruleFormUpdate.email=e.email,this.ruleFormUpdate.phone=e.mobile,this.ruleFormUpdate.id=e.id,console.log(this.ruleFormUpdate)},async updated(){let{data:e}=await this.$http.put("users/"+this.ruleFormUpdate.id,{id:this.ruleFormUpdate.id,email:this.ruleFormUpdate.email,mobile:this.ruleFormUpdate.phone});200==e.meta.status&&this.$message({message:"更新成功！",type:"success"}),console.log(e.data.id),this.dialogFormVisibleUpdate=!1,this.getUser()},delUser(e){this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{console.log(111),this.$http.delete("users/"+e).then(e=>{console.log(e),this.getUser()}),this.$message({type:"success",message:"删除成功!"})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},role(e){alert("我还是没写分配权限！")},handleSizeChange(e,t=this.pagenum){this.getUser(t,e)},handleCurrentChange(e,t=this.pagesize){this.getUser(e,t)},async change(e,t){console.log(e,t);let{data:a}=await this.$http.put(`users/${e}/state/${t}`);console.log(a),200==a.meta.status&&this.$message({message:"修改状态成功！",type:"success"})}},mounted(){this.getUser(1,2)}},H=M,A=(a("8516"),Object(o["a"])(H,W,D,!1,null,"ab74b742",null)),N=A.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("权限管理")]),a("el-breadcrumb-item",[e._v("权限列表")])],1),a("el-card",{staticClass:"box-card"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,stripe:"",border:""}},[a("el-table-column",{attrs:{type:"index",label:"#",width:""}}),a("el-table-column",{attrs:{prop:"authName",label:"权限名称",width:"280"}}),a("el-table-column",{attrs:{prop:"path",label:"路径",width:"280"}}),a("el-table-column",{attrs:{prop:"level",label:"权限等级"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.level?a("el-tag",[e._v("一级")]):e._e(),1==t.row.level?a("el-tag",{attrs:{type:"success"}},[e._v("二级")]):e._e(),2==t.row.level?a("el-tag",{attrs:{type:"warning"}},[e._v("三级")]):e._e()]}}])})],1)],1)],1)},Y=[],R={name:"demo",props:{},components:{},data(){return{list:[],tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"}]}},computed:{},watch:{},methods:{async getList(){let{data:e}=await this.$http.get("rights/list");this.list=e.data,console.log(e)}},mounted(){this.getList()}},G=R,K=Object(o["a"])(G,J,Y,!1,null,"ee47a264",null),Q=K.exports,X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("权限管理")]),a("el-breadcrumb-item",[e._v("角色列表")])],1),a("el-card",{staticClass:"box-card"},[a("el-row",[a("el-button",{attrs:{type:"primary"}},[e._v("主要按钮")])],1)],1)],1)},Z=[],ee={name:"demo",props:{},components:{},data(){return{list:[]}},computed:{},watch:{},methods:{async getList(){let{data:e}=await this.$http.get("roles");console.log(e.data),this.list=e.data}},mounted(){this.getList()}},te=ee,ae=Object(o["a"])(te,X,Z,!1,null,"5dccab2f",null),se=ae.exports,re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品管理")]),a("el-breadcrumb-item",[e._v("商品列表")])],1),a("el-card",{staticClass:"box-card"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.getList()}},slot:"append"})],1)],1),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("添加商品")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.list,stripe:""}},[a("el-table-column",{attrs:{type:"index",label:"#",width:"50"}}),a("el-table-column",{attrs:{prop:"goods_name",label:"商品名称",width:"700"}}),a("el-table-column",{attrs:{prop:"goods_price",label:"商品价格(元)",width:"110"}}),a("el-table-column",{attrs:{prop:"goods_weight",label:"商品重量",width:"80"}}),a("el-table-column",{attrs:{prop:"upd_time",label:"创建时间",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("timefn")(t.row.upd_time))+" ")]}}])}),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"}}),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.del(t.row.goods_id)}}})]}}])})],1),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{height:"50","current-page":e.pagenum,"page-sizes":[5,20,30,10],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)},le=[],oe={name:"demo",props:{},components:{},data(){return{list:[],dialogFormVisible:!1,formLabelWidth:"100px",ruleForm:{name:""},rules:{name:[{required:!0,message:"分类名称不能为空",trigger:"blur"}]},query:"",pagenum:1,pagesize:10,total:0}},computed:{},watch:{},methods:{async getList(e=this.pagenum,t=this.pagesize){let{data:a}=await this.$http.get(`goods?query=${this.query}&pagenum=${e}&pagesize=${t}`);console.log(a.data),this.list=a.data.goods,this.total=a.data.total,this.pagesize=t,this.pagenum=e,console.log(this.total,this.list)},add(){this.dialogFormVisible=!0},handleSizeChange(e,t=this.pagenum){this.getList(t,e)},handleCurrentChange(e,t=this.pagesize){this.getList(e,t)},del(e){this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{console.log(e),this.$http.delete("goods/"+e).then(e=>{console.log(e),this.getList()}),this.$message({type:"success",message:"删除成功!"})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})}},mounted(){this.getList()}},ie=oe,ne=(a("83b0"),Object(o["a"])(ie,re,le,!1,null,"e7dc258e",null)),ue=ne.exports,ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品管理")]),a("el-breadcrumb-item",[e._v("商品分类")])],1),a("el-card",{staticClass:"box-card"},[a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("添加分类")])],1),a("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.list,"row-key":"cat_id",border:"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{type:"index",label:"#",width:""}}),a("el-table-column",{attrs:{prop:"cat_name",label:"分类名称",width:""}}),a("el-table-column",{attrs:{prop:"cat_deleted",label:"是否有效",width:""},scopedSlots:e._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-success",staticStyle:{color:"#67c23a"}})]}}])}),a("el-table-column",{attrs:{width:"",label:"排序"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.cat_level?a("div",{staticClass:"hmw",staticStyle:{background:"#409eff"}},[e._v(" 一级 ")]):e._e(),1==t.row.cat_level?a("div",{staticClass:"hmw",staticStyle:{background:"#67c23a"}},[e._v(" 二级 ")]):e._e(),2==t.row.cat_level?a("div",{staticClass:"hmw",staticStyle:{background:"#e6a23c"}},[e._v(" 三级 ")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"操作",prop:"cat_id",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.update(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.del(t.row.cat_id)}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{height:"50","current-page":e.pagenum,"page-sizes":[5,4,6,10],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),a("el-dialog",{attrs:{title:"添加分类",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"分类名称",prop:"name"}},[a("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"父级分类"}},[a("div",{staticClass:"block"},[a("el-cascader",{attrs:{"collapse-tags":"",options:e.list2,props:{checkStrictly:!0,value:"cat_id",label:"cat_name"},clearable:""},model:{value:e.ruleForm.value,callback:function(t){e.$set(e.ruleForm,"value",t)},expression:"ruleForm.value"}})],1)])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"修改分类",visible:e.dialogFormVisibleUpdate},on:{"update:visible":function(t){e.dialogFormVisibleUpdate=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleFormUpdate,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"分类名称",prop:"name"}},[a("el-input",{model:{value:e.ruleFormUpdate.name,callback:function(t){e.$set(e.ruleFormUpdate,"name",t)},expression:"ruleFormUpdate.name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisibleUpdate=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updated("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},me=[],pe={name:"demo",props:{},components:{},data(){return{list:[],pagesize:5,pagenum:1,type:"",total:0,dialogFormVisible:!1,dialogFormVisibleUpdate:!1,formLabelWidth:"100px",ruleForm:{value:[],name:""},rules:{name:[{required:!0,message:"分类名称不能为空",trigger:"blur"}]},addList:[],ruleFormUpdate:{name:"",id:0},list2:[]}},computed:{},watch:{},methods:{async getList(e=1,t=5){let{data:a}=await this.$http.get(`categories?type=${this.type}&pagenum=${e}&pagesize=${t}`);this.list=a.data.result,this.total=a.data.total,this.pagenum=a.data.pagenum,this.pagesize=a.data.pagesize,console.log(this.list,this.total)},handleSizeChange(e,t=this.pagenum){this.getList(t,e)},handleCurrentChange(e,t=this.pagesize){this.getList(e,t)},submitForm(e){this.$refs[e].validate(e=>{if(!e)return console.log("error submit!!"),!1;this.submitAdd()})},async submitAdd(){let e=await this.$http.post("categories",{cat_pid:this.ruleForm.value.length,cat_name:this.ruleForm.name,cat_level:this.ruleForm.value.length});console.log(e.data),this.dialogFormVisible=!1,this.getList()},resetForm(e){this.dialogFormVisible=!1,this.$refs[e].resetFields()},async add(){this.getList2(),this.dialogFormVisible=!0},del(e){this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{console.log(e),this.$http.delete("categories/"+e).then(e=>{console.log(e),this.getList()}),this.$message({type:"success",message:"删除成功!"})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},update(e){this.dialogFormVisibleUpdate=!0,this.ruleFormUpdate.name=e.cat_name,this.ruleFormUpdate.id=e.cat_id,console.log(this.ruleFormUpdate)},async updated(){let{data:e}=await this.$http.put("categories/"+this.ruleFormUpdate.id,{cat_name:this.ruleFormUpdate.name});200==e.meta.status&&this.$message({message:"更新成功！",type:"success"}),console.log(e.data),this.dialogFormVisibleUpdate=!1,this.getList()},async getList2(e=1,t=this.total){let{data:a}=await this.$http.get(`categories?type=${this.type}&pagenum=${e}&pagesize=${t}`);a.data.result.map(e=>{e.children&&e.children.map(e=>{delete e.children})}),console.log(a.data.result),this.list2=a.data.result,console.log(this.list2)}},mounted(){this.getList()}},de=pe,he=(a("8e02"),Object(o["a"])(de,ce,me,!1,null,null,null)),ge=he.exports,be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品管理")]),a("el-breadcrumb-item",[e._v("分类参数")])],1),a("el-card",{staticClass:"box-card"})],1)},fe=[],ve={name:"demo",props:{},components:{},data(){return{list:[]}},computed:{},watch:{},methods:{async getList(){let{data:e}=await this.$http.get("roles");console.log(e.data),this.list=e.data}},mounted(){this.getList()}},_e=ve,we=Object(o["a"])(_e,be,fe,!1,null,"4bf845a7",null),ye=we.exports;s["default"].use(c["a"]);const Fe=[{path:"/",redirect:"/login"},{path:"/login",name:"login",component:U},{path:"/store",name:"store",component:O,redirect:"/store/sy",beforeEnter:(e,t,a)=>{let s=sessionStorage.getItem("token");s?a():(alert("请先登录！"),a("/login"))},children:[{path:"sy",component:B},{path:"users",component:N},{path:"rights",component:Q},{path:"roles",component:se},{path:"categories",component:ge},{path:"goods",component:ue},{path:"params",component:ye}]}],$e=new c["a"]({routes:Fe});var ke=$e,xe=a("2f62");s["default"].use(xe["a"]);var Ce=new xe["a"].Store({state:{},mutations:{},actions:{},modules:{}}),Ue=a("bc3a"),ze=a.n(Ue);const Se=ze.a.create({baseURL:"https://www.liulongbin.top:8888/api/private/v1/",timeout:"5000"});Se.interceptors.request.use(e=>{const t=window.sessionStorage.getItem("token");return t&&(e.headers.Authorization=t),e}),Se.interceptors.response.use(e=>(401==e.data.meta.status&&(window.sessionStorage.removeItem("token"),router.push("/login")),e));var je=Se,Le=a("5c96"),Ve=a.n(Le);a("0fae");s["default"].prototype.$http=je,s["default"].use(Ve.a),s["default"].filter("timefn",(function(e){const t=new Date(e),a=t.getFullYear(),s=(t.getMonth()+1+"").padStart(2,0),r=(t.getDate()+"").padStart(2,0),l=(t.getHours()+"").padStart(2,0),o=(t.getMinutes()+"").padStart(2,0),i=(t.getSeconds()+"").padStart(2,0);return`${a}-${s}-${r} ${l}:${o}:${i}`})),s["default"].config.productionTip=!1,new s["default"]({router:ke,store:Ce,render:function(e){return e(u)}}).$mount("#app")},5873:function(e,t,a){},"5c0b":function(e,t,a){"use strict";var s=a("9c0c"),r=a.n(s);r.a},"7d55":function(e,t,a){},"7e57":function(e,t,a){},"83b0":function(e,t,a){"use strict";var s=a("5873"),r=a.n(s);r.a},8516:function(e,t,a){"use strict";var s=a("e919"),r=a.n(s);r.a},"8e02":function(e,t,a){"use strict";var s=a("7e57"),r=a.n(s);r.a},"9c0c":function(e,t,a){},cf05:function(e,t,a){e.exports=a.p+"img/logo.82b9c7a5.png"},e027:function(e,t,a){},e84b:function(e,t,a){"use strict";var s=a("e027"),r=a.n(s);r.a},e919:function(e,t,a){}});
//# sourceMappingURL=app.c101623b.js.map